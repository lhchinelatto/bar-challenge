


                        ##         .
                  ## ## ##        ==
               ## ## ## ## ##    ===
           /"""""""""""""""""\___/ ===
      ~~~ {~~ ~~~~ ~~~ ~~~~ ~~~ ~ /  ===- ~~~
           \______ o           __/
             \    \         __/
              \____\_______/

docker is configured to use the default machine with IP 192.168.99.100
For help getting started, check out the docs at https://docs.docker.com


Start interactive shell

luish /c/Program Files/Docker Toolbox
$ ibmcloud login -a cloud.ibm.com -r us-south -g Default                                                                API endpoint: https://cloud.ibm.com
Region: us-south

Email> luish.c@outlook.com

Password>
Authenticating...
OK

Targeted account Luis Chinelatto's Account (8f2ea3816e2d4e5e8126ba4b59a4ffa9)

Targeted resource group Default

Targeted region us-south


API endpoint:      https://cloud.ibm.com
Region:            us-south
User:              luish.c@outlook.com
Account:           Luis Chinelatto's Account (8f2ea3816e2d4e5e8126ba4b59a4ffa9)
Resource group:    Default
CF API endpoint:
Org:
Space:

Tip: If you are managing Cloud Foundry applications and services
- Use 'C:\Program Files\IBM\Cloud\bin\ibmcloud.exe target --cf' to target Cloud Foundry org/space interactively, or use 'C:\Program Files\IBM\Cloud\bin\ibmcloud.exe target --cf-api ENDPOINT -o ORG -s SPACE' to target the org/space.
- Use 'C:\Program Files\IBM\Cloud\bin\ibmcloud.exe cf' if you want to run the Cloud Foundry CLI with current IBM Cloud CLI context.


luish /c/Program Files/Docker Toolbox
$ ibmcloud ks cluster-config --cluster bar-challenge-cluster
OK
The configuration for bar-challenge-cluster was downloaded successfully.

Export environment variables to start using Kubernetes.

export KUBECONFIG=/C/Users/luish/.bluemix/plugins/container-service/clusters/bar-challenge-cluster/kube-config-hou02-bar-challenge-cluster.yml


luish /c/Program Files/Docker Toolbox
$ export KUBECONFIG=/C/Users/luish/.bluemix/plugins/container-service/clusters/bar-challenge-cluster/kube-config-hou02-
bar-challenge-cluster.yml

luish /c/Program Files/Docker Toolbox
$ kubectl get nodes
NAME           STATUS   ROLES    AGE   VERSION
10.47.79.236   Ready    <none>   82m   v1.13.6+IKS

luish /c/Program Files/Docker Toolbox
$ pwd
/c/Program Files/Docker Toolbox

luish /c/Program Files/Docker Toolbox
$ pwdp
bash: pwdp: command not found

luish /c/Program Files/Docker Toolbox
$

luish /c/Program Files/Docker Toolbox
$

luish /c/Program Files/Docker Toolbox
$

luish /c/Program Files/Docker Toolbox
$

luish /c/Program Files/Docker Toolbox
$ pwd
/c/Program Files/Docker Toolbox

luish /c/Program Files/Docker Toolbox
$ cd ../..

luish /c
$ ls
'$GetCurrent'/              ESD/                                'Program Files'/               Users/
'$Recycle.Bin'/             hiberfil.sys                        'Program Files (x86)'/         Windows/
'$SysReset'/                Intel/                               ProgramData/                  Windows.old/
'$WINDOWS.~BT'/             LJP1100_P1560_P1600_Full_Solution/   Recovery/                     Windows10Upgrade/
'$Windows.~WS'/             OEMLOGO/                             Recovery.txt                  windows-version.txt
 bootmgr                    OneDriveTemp/                        ShipID.txt
 data/                      pagefile.sys                         swapfile.sys
'Documents and Settings'@   PerfLogs/                           'System Volume Information'/

luish /c
$ cd Users/luish/
Display all 80 possibilities? (y or n)

luish /c
$ cd Users/luish/

luish ~
$ ls
'3D Objects'/             node_modules/
 Anaconda3/               NTUSER.DAT
 ansel/                   ntuser.dat.LOG1
 AppData/                 ntuser.dat.LOG2
'Application Data'@       NTUSER.DAT{fd9a35db-49fe-11e9-aa2c-248a07783950}.TM.blf
 Contacts/                NTUSER.DAT{fd9a35db-49fe-11e9-aa2c-248a07783950}.TMContainer00000000000000000001.regtrans-ms
 Cookies@                 NTUSER.DAT{fd9a35db-49fe-11e9-aa2c-248a07783950}.TMContainer00000000000000000002.regtrans-ms
 Desktop/                 ntuser.ini
 Documents/               OneDrive/
 Downloads/               package.json
 eclipse/                 package-lock.json
 eclipse-workspace/       Pictures/
 Favorites/               PrintHood@
 IdeaProjects/            Recent@
 InstallDocker.exe*      'Saved Games'/
 IntelGraphicsProfiles/   Searches/
 Links/                   SendTo@
'Local Settings'@         source/
 MicrosoftEdgeBackups/   'Start Menu'@
 Music/                   Templates@
'My Documents'@           Videos/
 NetHood@                 windows-amd64/

luish ~
$ cd OneDrive/Documents/Fac
Facens/         facens (1).png  facens.png      Faculdade.url

luish ~
$ cd OneDrive/Documents/Facens/2019S1/
CompGrafica_2/         Embarcados/            IC/                    ProcImagens/           TCC_1/
DataProvas2019S1.xlsx  EngenhariaSW_2/        LFA/                   Provas_2019S1.png      Web/

luish ~
$ cd OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/
AnotacoesAula1.txt               New folder/                      TDD/
Aula_1_1_Aula1_Testes_TDD.pdf    Projeto_Eng_Software_2_2019.txt  teste-de-unidade/
Integracao_Continua_2019.pptx    projetoM2/                       teste-mock-alterado/
LEPIN2.docx                      ProvaM1/

luish ~
$ cd OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/pro
Projeto_Eng_Software_2_2019.txt  projetoM2/                       ProvaM1/

luish ~
$ cd OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/pro
Projeto_Eng_Software_2_2019.txt  projetoM2/                       ProvaM1/

luish ~
$ cd OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2
$ ls
ber-challenge/

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2
$ cd ber-challenge/

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ ;s
bash: syntax error near unexpected token `;'

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ ls
Dockerfile   manifest.yml       README.md             server.js                       views/
kubernetes/  package.json       README_MONGO.md       vcap-local.example.json
LICENSE      package-lock.json  README-kubernetes.md  vcap-local.MongoDBexample.json

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ ibmcloud cr namespaces
Listing namespaces for account 'Luis Chinelatto's Account' in registry 'us.icr.io'...

Namespace
bar-challenge

OK

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ ibmcloud cr info

Container Registry                us.icr.io
Container Registry API endpoint   https://us.icr.io/api
IBM Cloud API endpoint            https://cloud.ibm.com
IBM Cloud account details         Luis Chinelatto's Account (8f2ea3816e2d4e5e8126ba4b59a4ffa9)
IBM Cloud organization details     ()

IBM Cloud Container Registry is adopting new icr.io domain names to align with the rebranding of IBM Cloud for a better user experience. The existing bluemix.net domain names are deprecated, but you can continue to use them for the time being, as an unsupported date will be announced later.Â For more information about registry domain names, see https://cloud.ibm.com/docs/services/Registry?topic=registry-registry_overview#registry_regions_local

OK

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ docker build . -t us.icr.io/bar-challenge/myapp:v1.0.0
Sending build context to Docker daemon  509.4kB
Step 1/10 : FROM node:6-alpine
6-alpine: Pulling from library/node
bdf0201b3a05: Pull complete                                                                                             e9fa13fdf0f5: Pull complete                                                                                             ccc877228d8f: Pull complete                                                                                             Digest: sha256:17258206fc9256633c7100006b1cfdf25b129b6a40b8e5d37c175026482c84e3
Status: Downloaded newer image for node:6-alpine
 ---> dfc29bfa7d41
Step 2/10 : ADD views /app/views
 ---> 63d37e22b470
Step 3/10 : ADD package.json /app
 ---> cb5eb47edc80
Step 4/10 : ADD server.js /app
 ---> 79bf21c076b4
Step 5/10 : RUN cd /app; npm install
 ---> Running in a2e6984d8e2d
get-started-node@0.1.1 /app
+-- @cloudant/cloudant@3.0.2
| +-- @types/request@2.48.1
| | +-- @types/caseless@0.12.2
| | +-- @types/form-data@2.2.1
| | +-- @types/node@12.0.4
| | `-- @types/tough-cookie@2.3.5
| +-- async@2.1.2
| | `-- lodash@4.17.11
| +-- concat-stream@1.6.2
| | +-- buffer-from@1.1.1
| | +-- inherits@2.0.3
| | +-- readable-stream@2.3.6
| | | +-- core-util-is@1.0.2
| | | +-- isarray@1.0.0
| | | +-- process-nextick-args@2.0.0
| | | +-- string_decoder@1.1.1
| | | `-- util-deprecate@1.0.2
| | `-- typedarray@0.0.6
| +-- debug@3.2.6
| | `-- ms@2.1.1
| +-- lockfile@1.0.3
| +-- nano@7.1.1
| | +-- cloudant-follow@0.18.1
| | | +-- browser-request@0.3.3
| | | `-- debug@4.1.1
| | +-- debug@2.6.9
| | | `-- ms@2.0.0
| | +-- errs@0.3.2
| | `-- lodash.isempty@4.4.0
| +-- request@2.88.0
| | +-- aws-sign2@0.7.0
| | +-- aws4@1.8.0
| | +-- caseless@0.12.0
| | +-- combined-stream@1.0.8
| | | `-- delayed-stream@1.0.0
| | +-- extend@3.0.2
| | +-- forever-agent@0.6.1
| | +-- form-data@2.3.3
| | | `-- asynckit@0.4.0
| | +-- har-validator@5.1.3
| | | +-- ajv@6.10.0
| | | | +-- fast-deep-equal@2.0.1
| | | | +-- fast-json-stable-stringify@2.0.0
| | | | +-- json-schema-traverse@0.4.1
| | | | `-- uri-js@4.2.2
| | | |   `-- punycode@2.1.1
| | | `-- har-schema@2.0.0
| | +-- http-signature@1.2.0
| | | +-- assert-plus@1.0.0
| | | +-- jsprim@1.4.1
| | | | +-- extsprintf@1.3.0
| | | | +-- json-schema@0.2.3
| | | | `-- verror@1.10.0
| | | `-- sshpk@1.16.1
| | |   +-- asn1@0.2.4
| | |   +-- bcrypt-pbkdf@1.0.2
| | |   +-- dashdash@1.14.1
| | |   +-- ecc-jsbn@0.1.2
| | |   +-- getpass@0.1.7
| | |   +-- jsbn@0.1.1
| | |   `-- tweetnacl@0.14.5
| | +-- is-typedarray@1.0.0
| | +-- isstream@0.1.2
| | +-- json-stringify-safe@5.0.1
| | +-- mime-types@2.1.24
| | | `-- mime-db@1.40.0
| | +-- oauth-sign@0.9.0
| | +-- performance-now@2.1.0
| | +-- qs@6.5.2
| | +-- tough-cookie@2.4.3
| | | +-- psl@1.1.32
| | | `-- punycode@1.4.1
| | +-- tunnel-agent@0.6.0
| | `-- uuid@3.3.2
| `-- tmp@0.0.33
|   `-- os-tmpdir@1.0.2
+-- body-parser@1.19.0
| +-- bytes@3.1.0
| +-- content-type@1.0.4
| +-- debug@2.6.9
| | `-- ms@2.0.0
| +-- depd@1.1.2
| +-- http-errors@1.7.2
| | `-- toidentifier@1.0.0
| +-- iconv-lite@0.4.24
| | `-- safer-buffer@2.1.2
| +-- on-finished@2.3.0
| | `-- ee-first@1.1.1
| +-- qs@6.7.0
| +-- raw-body@2.4.0
| | `-- unpipe@1.0.0
| `-- type-is@1.6.18
|   `-- media-typer@0.3.0
+-- cfenv@1.2.2
| +-- js-yaml@3.13.1
| | +-- argparse@1.0.10
| | | `-- sprintf-js@1.0.3
| | `-- esprima@4.0.1
| +-- ports@1.1.0
| `-- underscore@1.9.1
+-- dotenv@4.0.0
+-- express@4.17.1
| +-- accepts@1.3.7
| | `-- negotiator@0.6.2
| +-- array-flatten@1.1.1
| +-- content-disposition@0.5.3
| +-- cookie@0.4.0
| +-- cookie-signature@1.0.6
| +-- debug@2.6.9
| | `-- ms@2.0.0
| +-- encodeurl@1.0.2
| +-- escape-html@1.0.3
| +-- etag@1.8.1
| +-- finalhandler@1.1.2
| | `-- debug@2.6.9
| |   `-- ms@2.0.0
| +-- fresh@0.5.2
| +-- merge-descriptors@1.0.1
| +-- methods@1.1.2
| +-- parseurl@1.3.3
| +-- path-to-regexp@0.1.7
| +-- proxy-addr@2.0.5
| | +-- forwarded@0.1.2
| | `-- ipaddr.js@1.9.0
| +-- qs@6.7.0
| +-- range-parser@1.2.1
| +-- safe-buffer@5.1.2
| +-- send@0.17.1
| | +-- debug@2.6.9
| | | `-- ms@2.0.0
| | +-- destroy@1.0.4
| | `-- mime@1.6.0
| +-- serve-static@1.14.1
| +-- setprototypeof@1.1.1
| +-- statuses@1.5.0
| +-- utils-merge@1.0.1
| `-- vary@1.1.2
`-- mongodb@3.2.6
  `-- mongodb-core@3.2.6
    +-- bson@1.1.1
    +-- require_optional@1.0.1
    | +-- resolve-from@2.0.0
    | `-- semver@5.7.0
    `-- saslprep@1.0.3
      `-- sparse-bitfield@3.0.3
        `-- memory-pager@1.5.0

Removing intermediate container a2e6984d8e2d
 ---> 8d8e48a0d879
Step 6/10 : ENV NODE_ENV production
 ---> Running in d0a598ad860e
Removing intermediate container d0a598ad860e
 ---> 7d7f8130eb31
Step 7/10 : ENV PORT 8080
 ---> Running in f7ff9a712d1c
Removing intermediate container f7ff9a712d1c
 ---> 64b65c4c6d1a
Step 8/10 : EXPOSE 8080
 ---> Running in c30acde6a0c1
Removing intermediate container c30acde6a0c1
 ---> 67ae2a61bf16
Step 9/10 : WORKDIR "/app"
 ---> Running in 8678c4967c34
Removing intermediate container 8678c4967c34
 ---> 980089863aa1
Step 10/10 : CMD [ "npm", "start" ]
 ---> Running in c457c7c231f3
Removing intermediate container c457c7c231f3
 ---> 1adf39f1c4ff
Successfully built 1adf39f1c4ff
Successfully tagged us.icr.io/bar-challenge/myapp:v1.0.0
SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ docker push us.icr.io/bar-challenge/myapp:v1.0.0
The push refers to repository [us.icr.io/bar-challenge/myapp]
a750573f0b10: Preparing                                                                                                 e94790bf8484: Preparing                                                                                                 09b4f0cce0fe: Preparing                                                                                                 d8da38b743fa: Preparing                                                                                                 f168d52a989d: Preparing                                                                                                 17b7c23fba03: Waiting                                                                                                   a464c54f93a9: Waiting                                                                                                   unauthorized: authentication required

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ docker push us.icr.io/bar-challenge/myapp:v1.0.0
The push refers to repository [us.icr.io/bar-challenge/myapp]
a750573f0b10: Preparing                                                                                                 e94790bf8484: Preparing                                                                                                 09b4f0cce0fe: Preparing                                                                                                 d8da38b743fa: Preparing                                                                                                 f168d52a989d: Preparing                                                                                                 17b7c23fba03: Waiting                                                                                                   a464c54f93a9: Waiting                                                                                                   unauthorized: authentication required

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ sudo docker push us.icr.io/bar-challenge/myapp:v1.0.0                                                                 bash: sudo: command not found

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ ibmcloud cr login
Logging in to 'registry.ng.bluemix.net'...
Logged in to 'registry.ng.bluemix.net'.

IBM Cloud Container Registry is adopting new icr.io domain names to align with the rebranding of IBM Cloud for a better user experience. The existing bluemix.net domain names are deprecated, but you can continue to use them for the time being, as an unsupported date will be announced later.Â For more information about registry domain names, see https://cloud.ibm.com/docs/services/Registry?topic=registry-registry_overview#registry_regions_local

Logging in to 'us.icr.io'...
Logged in to 'us.icr.io'.

IBM Cloud Container Registry is adopting new icr.io domain names to align with the rebranding of IBM Cloud for a better user experience. The existing bluemix.net domain names are deprecated, but you can continue to use them for the time being, as an unsupported date will be announced later.Â For more information about registry domain names, see https://cloud.ibm.com/docs/services/Registry?topic=registry-registry_overview#registry_regions_local

OK

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ docker push us.icr.io/bar-challenge/myapp:v1.0.0
The push refers to repository [us.icr.io/bar-challenge/myapp]
a750573f0b10: Pushed                                                                                                    e94790bf8484: Pushed                                                                                                    09b4f0cce0fe: Pushed                                                                                                    d8da38b743fa: Pushed                                                                                                    f168d52a989d: Pushed                                                                                                    17b7c23fba03: Pushed                                                                                                    a464c54f93a9: Pushed                                                                                                    v1.0.0: digest: sha256:ad2353f7bf3e9b0d5d9d3bd831d9b76d3d4652976309b1227ffdffd81844abcf size: 1786

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl create secret generic cloudant --from-literal=url=https://51d5c342-6138-4d71-a4db-ab98e59770c2-bluemix:347bd9
d24b84d0d4adec90dbb6a1cd810b78191cfd1ae087a7887a7b736b4c62@51d5c342-6138-4d71-a4db-ab98e59770c2-bluemix.cloudantnosqldb
.appdomain.cloud
secret/cloudant created

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl create -f kubernetes/deployment.yaml
deployment.apps/get-started-node created

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl expose deployment get-started-node --type NodePort --port 8080 --target-port 8080
service/get-started-node exposed

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS   RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     Error    1          24s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS   RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     Error    2          36s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS             RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     CrashLoopBackOff   2          53s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS   RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     Error    3          70s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS             RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     CrashLoopBackOff   4          2m19s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pod --output=yaml
apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/psp: ibm-privileged-psp
    creationTimestamp: "2019-06-01T00:00:51Z"
    generateName: get-started-node-c689d597d-
    labels:
      app: get-started-node
      pod-template-hash: c689d597d
    name: get-started-node-c689d597d-5btz9
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: get-started-node-c689d597d
      uid: 51684952-8400-11e9-a241-aae1923f43d3
    resourceVersion: "3144"
    selfLink: /api/v1/namespaces/default/pods/get-started-node-c689d597d-5btz9
    uid: 516b3d34-8400-11e9-a241-aae1923f43d3
  spec:
    containers:
    - env:
      - name: CLOUDANT_URL
        valueFrom:
          secretKeyRef:
            key: url
            name: cloudant
            optional: true
      image: us.icr.io/bar-challenge/myapp:v1.0.0
      imagePullPolicy: Always
      name: get-started-node
      ports:
      - containerPort: 8080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-98rxj
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: bluemix-default-secret
    - name: bluemix-default-secret-regional
    - name: bluemix-default-secret-international
    - name: default-icr-io
    - name: default-us-icr-io
    - name: default-uk-icr-io
    - name: default-de-icr-io
    - name: default-au-icr-io
    - name: default-jp-icr-io
    nodeName: 10.47.79.236
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: default-token-98rxj
      secret:
        defaultMode: 420
        secretName: default-token-98rxj
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2019-06-01T00:00:51Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2019-06-01T00:02:39Z"
      message: 'containers with unready status: [get-started-node]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2019-06-01T00:02:39Z"
      message: 'containers with unready status: [get-started-node]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2019-06-01T00:00:51Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://bd63d054385ac3457eabfd0104c24117c4ea6e1fb07d604d1e1fd205facc6096
      image: us.icr.io/bar-challenge/myapp:v1.0.0
      imageID: us.icr.io/bar-challenge/myapp@sha256:ad2353f7bf3e9b0d5d9d3bd831d9b76d3d4652976309b1227ffdffd81844abcf
      lastState:
        terminated:
          containerID: containerd://bd63d054385ac3457eabfd0104c24117c4ea6e1fb07d604d1e1fd205facc6096
          exitCode: 1
          finishedAt: "2019-06-01T00:02:38Z"
          reason: Error
          startedAt: "2019-06-01T00:02:37Z"
      name: get-started-node
      ready: false
      restartCount: 4
      state:
        waiting:
          message: Back-off 1m20s restarting failed container=get-started-node pod=get-started-node-c689d597d-5btz9_default(516b3d34-8400-11e9-a241-aae1923f43d3)
          reason: CrashLoopBackOff
    hostIP: 10.47.79.236
    phase: Running
    podIP: 172.30.6.135
    qosClass: BestEffort
    startTime: "2019-06-01T00:00:51Z"
kind: List
metadata:
  resourceVersion: ""
  selfLink: ""

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS             RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     CrashLoopBackOff   4          3m15s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS             RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     CrashLoopBackOff   5          4m14s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl create secret generic cloudant --from-literal=url=https://51d5c342-6138-4d71-a4db-ab98e59770c2-bluemix:347bd9 d24b84d0d4adec90dbb6a1cd810b78191cfd1ae087a7887a7b736b4c62@51d5c342-6138-4d71-a4db-ab98e59770c2-bluemix.cloudantnosqldb .appdomain.cloud
Error from server (AlreadyExists): secrets "cloudant" already exists

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl expose deployment get-started-node --type NodePort --port 8080 --target-port 8080                             Error from server (AlreadyExists): services "get-started-node" already exists

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node                                                                              NAME                               READY   STATUS             RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     CrashLoopBackOff   5          4m57s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl describe pods ${get-started-node-c689d597d-5btz9}
Error from server (NotFound): pods "started-node-c689d597d-5btz9" not found

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl describe pods get-started-node-c689d597d-5btz9
Name:               get-started-node-c689d597d-5btz9
Namespace:          default
Priority:           0
PriorityClassName:  <none>
Node:               10.47.79.236/10.47.79.236
Start Time:         Fri, 31 May 2019 21:00:51 -0300
Labels:             app=get-started-node
                    pod-template-hash=c689d597d
Annotations:        kubernetes.io/psp: ibm-privileged-psp
Status:             Running
IP:                 172.30.6.135
Controlled By:      ReplicaSet/get-started-node-c689d597d
Containers:
  get-started-node:
    Container ID:   containerd://dcb415d97debdbb7eaf9159b0465ea03ae4e086d744518c77016ad6cccace19f
    Image:          us.icr.io/bar-challenge/myapp:v1.0.0
    Image ID:       us.icr.io/bar-challenge/myapp@sha256:ad2353f7bf3e9b0d5d9d3bd831d9b76d3d4652976309b1227ffdffd81844abcf
    Port:           8080/TCP
    Host Port:      0/TCP
    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Fri, 31 May 2019 21:06:57 -0300
      Finished:     Fri, 31 May 2019 21:06:58 -0300
    Ready:          False
    Restart Count:  6
    Environment:
      CLOUDANT_URL:  <set to the key 'url' in secret 'cloudant'>  Optional: true
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-98rxj (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             False
  ContainersReady   False
  PodScheduled      True
Volumes:
  default-token-98rxj:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-98rxj
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason     Age                     From                   Message
  ----     ------     ----                    ----                   -------
  Normal   Scheduled  8m36s                   default-scheduler      Successfully assigned default/get-started-node-c689d597d-5btz9 to 10.47.79.236
  Normal   Started    7m34s (x4 over 8m31s)   kubelet, 10.47.79.236  Started container
  Normal   Pulling    6m50s (x5 over 8m35s)   kubelet, 10.47.79.236  pulling image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Pulled     6m50s (x5 over 8m31s)   kubelet, 10.47.79.236  Successfully pulled image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Created    6m50s (x5 over 8m31s)   kubelet, 10.47.79.236  Created container
  Warning  BackOff    3m33s (x22 over 8m23s)  kubelet, 10.47.79.236  Back-off restarting failed container

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS             RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     CrashLoopBackOff   6          9m54s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl describe pods get-started-node-c689d597d-5btz9
Name:               get-started-node-c689d597d-5btz9
Namespace:          default
Priority:           0
PriorityClassName:  <none>
Node:               10.47.79.236/10.47.79.236
Start Time:         Fri, 31 May 2019 21:00:51 -0300
Labels:             app=get-started-node
                    pod-template-hash=c689d597d
Annotations:        kubernetes.io/psp: ibm-privileged-psp
Status:             Running
IP:                 172.30.6.135
Controlled By:      ReplicaSet/get-started-node-c689d597d
Containers:
  get-started-node:
    Container ID:   containerd://dcb415d97debdbb7eaf9159b0465ea03ae4e086d744518c77016ad6cccace19f
    Image:          us.icr.io/bar-challenge/myapp:v1.0.0
    Image ID:       us.icr.io/bar-challenge/myapp@sha256:ad2353f7bf3e9b0d5d9d3bd831d9b76d3d4652976309b1227ffdffd81844abcf
    Port:           8080/TCP
    Host Port:      0/TCP
    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Fri, 31 May 2019 21:06:57 -0300
      Finished:     Fri, 31 May 2019 21:06:58 -0300
    Ready:          False
    Restart Count:  6
    Environment:
      CLOUDANT_URL:  <set to the key 'url' in secret 'cloudant'>  Optional: true
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-98rxj (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             False
  ContainersReady   False
  PodScheduled      True
Volumes:
  default-token-98rxj:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-98rxj
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason     Age                     From                   Message
  ----     ------     ----                    ----                   -------
  Normal   Scheduled  10m                     default-scheduler      Successfully assigned default/get-started-node-c689d597d-5btz9 to 10.47.79.236
  Normal   Started    8m59s (x4 over 9m56s)   kubelet, 10.47.79.236  Started container
  Normal   Pulling    8m15s (x5 over 10m)     kubelet, 10.47.79.236  pulling image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Pulled     8m15s (x5 over 9m56s)   kubelet, 10.47.79.236  Successfully pulled image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Created    8m15s (x5 over 9m56s)   kubelet, 10.47.79.236  Created container
  Warning  BackOff    4m58s (x22 over 9m48s)  kubelet, 10.47.79.236  Back-off restarting failed container

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl logs get-started-node-c689d597d-5btz9 containerd://dcb415d97debdbb7eaf9159b0465ea03ae4e086d744518c77016ad6ccc
ace19f
Error from server (BadRequest): container containerd://dcb415d97debdbb7eaf9159b0465ea03ae4e086d744518c77016ad6cccace19f is not valid for pod get-started-node-c689d597d-5btz9

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl logs get-started-node-c689d597d-5btz9 dcb415d97debdbb7eaf9159b0465ea03ae4e086d744518c77016ad6cccace19f
Error from server (BadRequest): container dcb415d97debdbb7eaf9159b0465ea03ae4e086d744518c77016ad6cccace19f is not valid for pod get-started-node-c689d597d-5btz9

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl describe pods get-started-node-c689d597d-5btz9 d://dcb415d97deb
Name:               get-started-node-c689d597d-5btz9
Namespace:          default
Priority:           0
PriorityClassName:  <none>
Node:               10.47.79.236/10.47.79.236
Start Time:         Fri, 31 May 2019 21:00:51 -0300
Labels:             app=get-started-node
                    pod-template-hash=c689d597d
Annotations:        kubernetes.io/psp: ibm-privileged-psp
Status:             Running
IP:                 172.30.6.135
Controlled By:      ReplicaSet/get-started-node-c689d597d
Containers:
  get-started-node:
    Container ID:   containerd://11bc1773a2f35d3316a5d1fa9accab5ce9606c59dce23fe414a3c613945775bd
    Image:          us.icr.io/bar-challenge/myapp:v1.0.0
    Image ID:       us.icr.io/bar-challenge/myapp@sha256:ad2353f7bf3e9b0d5d9d3bd831d9b76d3d4652976309b1227ffdffd81844abcf
    Port:           8080/TCP
    Host Port:      0/TCP
    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Fri, 31 May 2019 21:12:10 -0300
      Finished:     Fri, 31 May 2019 21:12:11 -0300
    Ready:          False
    Restart Count:  7
    Environment:
      CLOUDANT_URL:  <set to the key 'url' in secret 'cloudant'>  Optional: true
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-98rxj (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             False
  ContainersReady   False
  PodScheduled      True
Volumes:
  default-token-98rxj:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-98rxj
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason     Age                 From                   Message
  ----     ------     ----                ----                   -------
  Normal   Scheduled  11m                 default-scheduler      Successfully assigned default/get-started-node-c689d597d-5btz9 to 10.47.79.236
  Normal   Started    10m (x4 over 11m)   kubelet, 10.47.79.236  Started container
  Normal   Pulling    10m (x5 over 11m)   kubelet, 10.47.79.236  pulling image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Pulled     10m (x5 over 11m)   kubelet, 10.47.79.236  Successfully pulled image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Created    10m (x5 over 11m)   kubelet, 10.47.79.236  Created container
  Warning  BackOff    97s (x46 over 11m)  kubelet, 10.47.79.236  Back-off restarting failed container

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl logs get-started-node-c689d597d-5btz9 11bc1773a2f35d3316a5d1fa9accab5ce9606c59dce23fe414a3c613945775bd
Error from server (BadRequest): container 11bc1773a2f35d3316a5d1fa9accab5ce9606c59dce23fe414a3c613945775bd is not valid for pod get-started-node-c689d597d-5btz9

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl describe pods get-started-node-c689d597d-5btz9        16
Name:               get-started-node-c689d597d-5btz9
Namespace:          default
Priority:           0
PriorityClassName:  <none>
Node:               10.47.79.236/10.47.79.236
Start Time:         Fri, 31 May 2019 21:00:51 -0300
Labels:             app=get-started-node
                    pod-template-hash=c689d597d
Annotations:        kubernetes.io/psp: ibm-privileged-psp
Status:             Running
IP:                 172.30.6.135
Controlled By:      ReplicaSet/get-started-node-c689d597d
Containers:
  get-started-node:
    Container ID:   containerd://11bc1773a2f35d3316a5d1fa9accab5ce9606c59dce23fe414a3c613945775bd
    Image:          us.icr.io/bar-challenge/myapp:v1.0.0
    Image ID:       us.icr.io/bar-challenge/myapp@sha256:ad2353f7bf3e9b0d5d9d3bd831d9b76d3d4652976309b1227ffdffd81844abcf
    Port:           8080/TCP
    Host Port:      0/TCP
    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Fri, 31 May 2019 21:12:10 -0300
      Finished:     Fri, 31 May 2019 21:12:11 -0300
    Ready:          False
    Restart Count:  7
    Environment:
      CLOUDANT_URL:  <set to the key 'url' in secret 'cloudant'>  Optional: true
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-98rxj (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             False
  ContainersReady   False
  PodScheduled      True
Volumes:
  default-token-98rxj:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-98rxj
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type     Reason     Age                  From                   Message
  ----     ------     ----                 ----                   -------
  Normal   Scheduled  12m                  default-scheduler      Successfully assigned default/get-started-node-c689d597d-5btz9 to 10.47.79.236
  Normal   Started    11m (x4 over 12m)    kubelet, 10.47.79.236  Started container
  Normal   Pulling    10m (x5 over 12m)    kubelet, 10.47.79.236  pulling image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Pulled     10m (x5 over 12m)    kubelet, 10.47.79.236  Successfully pulled image "us.icr.io/bar-challenge/myapp:v1.0.0"
  Normal   Created    10m (x5 over 12m)    kubelet, 10.47.79.236  Created container
  Warning  BackOff    2m6s (x46 over 12m)  kubelet, 10.47.79.236  Back-off restarting failed container

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl logs get-started-node-c689d597d-5btz9 containerd://11bc1773a2f35d3316a5d1fa9accab5ce9606c59dce23fe414a3c61394
5775bd
Error from server (BadRequest): container containerd://11bc1773a2f35d3316a5d1fa9accab5ce9606c59dce23fe414a3c613945775bd is not valid for pod get-started-node-c689d597d-5btz9

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl logs ${POD_NAME} ${CONTAINER_NAME}
error: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.
POD or TYPE/NAME is a required argument for the logs command
See 'kubectl logs -h' for help and examples.

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl logs get-started-node-c689d597d-5btz9                                                                         
> get-started-node@0.1.1 start /app
> node server.js

/app/server.js:170
  cloudant = Cloudant(process.env.CLOUDANT_URL);
             ^

TypeError: Cloudant is not a function
    at Object.<anonymous> (/app/server.js:170:14)
    at Module._compile (module.js:577:32)
    at Object.Module._extensions..js (module.js:586:10)
    at Module.load (module.js:494:32)
    at tryModuleLoad (module.js:453:12)
    at Function.Module._load (module.js:445:3)
    at Module.runMain (module.js:611:10)
    at run (bootstrap_node.js:394:7)
    at startup (bootstrap_node.js:160:9)
    at bootstrap_node.js:507:3

npm ERR! Linux 4.4.0-148-generic
npm ERR! argv "/usr/local/bin/node" "/usr/local/bin/npm" "start"
npm ERR! node v6.17.1
npm ERR! npm  v3.10.10
npm ERR! code ELIFECYCLE
npm ERR! get-started-node@0.1.1 start: `node server.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the get-started-node@0.1.1 start script 'node server.js'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the get-started-node package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node server.js
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs get-started-node
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls get-started-node
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /app/npm-debug.log

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl logs get-started-node-c689d597d-5btz9

> get-started-node@0.1.1 start /app
> node server.js

/app/server.js:170
  cloudant = Cloudant(process.env.CLOUDANT_URL);
             ^

TypeError: Cloudant is not a function
    at Object.<anonymous> (/app/server.js:170:14)
    at Module._compile (module.js:577:32)
    at Object.Module._extensions..js (module.js:586:10)
    at Module.load (module.js:494:32)
    at tryModuleLoad (module.js:453:12)
    at Function.Module._load (module.js:445:3)
    at Module.runMain (module.js:611:10)
    at run (bootstrap_node.js:394:7)
    at startup (bootstrap_node.js:160:9)
    at bootstrap_node.js:507:3

npm ERR! Linux 4.4.0-148-generic
npm ERR! argv "/usr/local/bin/node" "/usr/local/bin/npm" "start"
npm ERR! node v6.17.1
npm ERR! npm  v3.10.10
npm ERR! code ELIFECYCLE
npm ERR! get-started-node@0.1.1 start: `node server.js`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the get-started-node@0.1.1 start script 'node server.js'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the get-started-node package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node server.js
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs get-started-node
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls get-started-node
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /app/npm-debug.log

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ docker build . -t us.icr.io/bar-challenge/myapp:v1.0.1                                                                Sending build context to Docker daemon  15.22MB
Step 1/10 : FROM node:12.3.1-alpine
12.3.1-alpine: Pulling from library/node
e7c96db7181b: Pull complete                                                                                             41d5942c4680: Pull complete                                                                                             48a61374e04d: Pull complete                                                                                             Digest: sha256:67ca3b1ba6a0d8c52030d0e5d775ace600197371c56becf7e6e9ff8191850f58
Status: Downloaded newer image for node:12.3.1-alpine
 ---> 91acf04599c4
Step 2/10 : ADD views /app/views
 ---> 9566284aa8d0
Step 3/10 : ADD package.json /app
 ---> 5fa9ddaf8157
Step 4/10 : ADD server.js /app
 ---> 252d2d7891f9
Step 5/10 : RUN cd /app; npm install
 ---> Running in 4b55cb30ec58
npm notice created a lockfile as package-lock.json. You should commit this file.
added 146 packages from 175 contributors and audited 408 packages in 28.611s
found 0 vulnerabilities

Removing intermediate container 4b55cb30ec58
 ---> 5d90ea8a607a
Step 6/10 : ENV NODE_ENV production
 ---> Running in f1a7f73044e9
Removing intermediate container f1a7f73044e9
 ---> 0d5fc87fc805
Step 7/10 : ENV PORT 8080
 ---> Running in 17e8997193ca
Removing intermediate container 17e8997193ca
 ---> 74f4ecb4e00d
Step 8/10 : EXPOSE 8080
 ---> Running in 66763dd5338d
Removing intermediate container 66763dd5338d
 ---> d9bb6bc243ff
Step 9/10 : WORKDIR "/app"
 ---> Running in 88f644726f4b
Removing intermediate container 88f644726f4b
 ---> a59914e3242e
Step 10/10 : CMD [ "npm", "start" ]
 ---> Running in e22c2ee25f73
Removing intermediate container e22c2ee25f73
 ---> 6ba5ccf25717
Successfully built 6ba5ccf25717
Successfully tagged us.icr.io/bar-challenge/myapp:v1.0.1
SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ docker push us.icr.io/bar-challenge/myapp:v1.0.1                                                                      The push refers to repository [us.icr.io/bar-challenge/myapp]
b0b74bf19558: Pushed                                                                                                    12acd9101004: Pushed                                                                                                    efb3ea0f8482: Pushed                                                                                                    ef092bc8dd02: Pushed                                                                                                    a5b3bec66fc4: Pushed                                                                                                    f5d042a13ed7: Pushed                                                                                                    f1b5933fe4b5: Pushed                                                                                                    v1.0.1: digest: sha256:200046e39e65bd8241c2292c9253a65f3c330ec8685da467eafcf26edb0b493c size: 1786

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl create secret generic cloudant --from-literal=url=https://51d5c342-6138-4d71-a4db-ab98e59770c2-bluemix:347bd9 d24b84d0d4adec90dbb6a1cd810b78191cfd1ae087a7887a7b736b4c62@51d5c342-6138-4d71-a4db-ab98e59770c2-bluemix.cloudantnosqldb .appdomain.cloud
Error from server (AlreadyExists): secrets "cloudant" already exists

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl create -f kubernetes/deployment.yaml
Error from server (AlreadyExists): error when creating "kubernetes/deployment.yaml": deployments.apps "get-started-node" already exists

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl create -f kubernetes/deployment.yaml
Error from server (AlreadyExists): error when creating "kubernetes/deployment.yaml": deployments.apps "get-started-node" already exists

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl expose deployment get-started-node --type NodePort --port 8080 --target-port 8080
Error from server (AlreadyExists): services "get-started-node" already exists

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl create -f kubernetes/deployment.yaml                                                                          deployment.apps/bar-challenge created

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl expose deployment bar-challenge --type NodePort --port 8080 --target-port 8080
service/bar-challenge exposed

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=get-started-node
NAME                               READY   STATUS             RESTARTS   AGE
get-started-node-c689d597d-5btz9   0/1     CrashLoopBackOff   31         138m

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl get pods -l app=bar-challenge
NAME                             READY   STATUS    RESTARTS   AGE
bar-challenge-567d87ddf7-nhp7r   1/1     Running   0          65s

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ ibmcloud cs workers bar-challenge-cluster
OK
ID                                                 Public IP       Private IP     Machine Type   State    Status   Zone    Version
kube-hou02-pa46b0937864ff44e692d967bc5aecd7ba-w1   184.173.5.164   10.47.79.236   free           normal   Ready    hou02   1.13.6_1522

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$ kubectl describe service bar-challenge
Name:                     bar-challenge
Namespace:                default
Labels:                   app=bar-challenge
Annotations:              <none>
Selector:                 app=bar-challenge
Type:                     NodePort
IP:                       172.21.201.243
Port:                     <unset>  8080/TCP
TargetPort:               8080/TCP
NodePort:                 <unset>  30418/TCP
Endpoints:                172.30.6.136:8080
Session Affinity:         None
External Traffic Policy:  Cluster
Events:                   <none>

luish ~/OneDrive/Documents/Facens/2019S1/EngenhariaSW_2/projetoM2/ber-challenge (master)
$